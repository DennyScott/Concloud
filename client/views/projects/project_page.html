<template name="projectPage">
	{{> breadcrumbs}}

	<div class = "projectData col-xs-12">
		<div class="row no-margins">
			{{> errors}}
			<div class="row">
				<h3 class="alignLeft col-xs-6" id="projectBreadcrumbs"><span class="headerLink" id="header-base">{{title}}</span></h3>


				<span class="pull-right projectButtons col-xs-6">
					<!--Folders and Files -->
					{{#if officeManager}}
					<span class="dropdown">
						<i class="fa fa-upload createCircle greenCircle dropdown-toggle" id="uploadItem" title="upload" data-toggle="dropdown" href="#"></i>
						<ul class="dropdown-menu uploadDropdown alignLeft" aria-labelledby="uploadItem">
							<li class="center"><i class="fa fa-folder-open-o"></i> Folder</li>
							<li class="dataInput"><input type="file" webkitdirectory class="center col-xs-12 fileInput" value="folder" id="upload-folder" name="upload-folder"/></li><br>
							<li class="divider"></li>
							<li class="center filePadding"><i class="fa fa-file-o"></i> File</li>
							<li class="dataInput"><input type="file" class="center col-xs-12 fileInput" id="upload-file" name="upload-file"/></li><br>
						</ul>
					</span>
					{{/if}}
					<i class="fa fa-download createCircle blueCircle " id='downloadItems' title="download"></i>
					{{#if officeManager}}
					<span class="dropdown">
						<i class="fa fa-folder createCircle yellowCircle" id="add-folder" data-container="body" data-toggle="popover" data-placement="left"></i>
						<div class="head hide">Add New Folder</div>
						<div class="content hide">
							<div class="form-group">
								<input type="text" class="form-control textPopover col-xs-9" placeholder="Enter Folder Name...">
								<button type="submit" class="btn btn-primary submitPopover col-xs-3"><i class="fa fa-check"></i></button>
							</div>
							
						</div>
						<ul class="dropdown-menu folderDropdown alignLeft" aria-labelledby="add-folder"> 
							<li class="dataInput"></li><br>
						</ul>
					</span>
					{{/if}}
					{{#if officeManager}}
					<i class="fa fa-minus createCircle redCircle" id="deleteItem" title = "delete"></i>
					{{/if}}
				</span>
				{{> addFolderModal}}
				{{> uploadModal}}
			</div>

			<div id="browse-sort" class="clearfix">
				<a id="name-sorter" data-sort="FILES_BY_NAME" class="sortable-column-header bolded col-xs-6" data-ascending="true" style="cursor: pointer;">
					<span style="cursor: pointer;">
						Name
					</span>
				</a>
				<a id="kind-sorter" data-sort="FILES_BY_KIND" class="sortable-column-header noarrow col-xs-2" data-ascending="false" style="cursor: pointer;">
					<span id="kind-sorter-label" style="cursor: pointer;">
						Kind
					</span>
				</a>
				<a id="modified-sorter" data-sort="FILES_BY_MODIFIED" class="sortable-column-header col-xs-4" data-ascending="false" style="cursor: pointer;">
					<span style="cursor: pointer;">
						Modified
					</span>
				</a>
			</div>
			{{#if uploadingData}}
			{{>spinner}}
			{{/if}}

			<!-- Folders and Files -->

			<ol id="browse-files" class="mouse-active" style="cursor: default;">
				<!-- Individual Folders -->
				<div id="projectFolders">
					{{#each arrayify projectData}}
					{{#if allowedView}}
					{{> project_folder}}
					{{/if}}
					{{/each}}
				</div>


				<!-- Project Files -->
				<div id="projectFiles">
					{{#each arrayify projectFiles}}
					{{> project_files}}
					{{/each}}
				</div>


			</ol>




		</div>
	</div>

</template>
